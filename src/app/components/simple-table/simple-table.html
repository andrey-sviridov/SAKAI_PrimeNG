<div class="table-actions">
    <ng-content select="[slot=top]"></ng-content>
</div>

<p-table
    [value]="data"
    [columns]="columns"
    [loading]="loading"
    [rows]="10"
    [paginator]="true"
    responsiveLayout="scroll"
    styleClass="p-datatable-striped">

    <ng-template pTemplate="header" let-columns>
        <tr>
            @for(col of columns; track col.id){
                <th
                    [style]="col.style"
                    [class]="col.styleClass">
                    {{ col.columnName }}
                </th>
            }

        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
            @for(col of columns; track col.id){
                <td [style]="col.style" [class]="col.styleClass">

                    @if(getTemplate(col.propName)){
                        <ng-container>
                            <ng-container *ngTemplateOutlet="getTemplate(col.propName); context: { $implicit: rowData }">
                            </ng-container>
                        </ng-container>
                    }@else{
                        <ng-template>
                            {{ rowData[col.propName] }}
                        </ng-template>
                    }
                </td>
            }
        </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
        <tr>
            <td [attr.colspan]="columns.length" class="text-center p-4">
                Нет данных
            </td>
        </tr>
    </ng-template>
</p-table>

<div class="table-footer">
    <ng-content select="[slot=bottom]"></ng-content>
</div>
