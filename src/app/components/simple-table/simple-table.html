@if(true){
    <div class="table-actions">
        <ng-content select="[slot=top]"></ng-content>
    </div>
}

<p-table
    [value]="data"
    [loading]="loading"
    [rows]="10"
    [paginator]="true"
    styleClass="materio-table"
>
    <ng-template pTemplate="header">
        <tr>
            @for (col of columns; track col.propName) {
                <th [style]="col.style" [class]="col.styleClass">
                    {{ col.columnName }}
                </th>
            }
        </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData>
        <tr>
            @for (col of columns; track col.propName) {
                <td [style]="col.style" [class]="col.styleClass">

                    @if (templateMap[col.propName]; as customTemplate) {
                        <ng-container *ngTemplateOutlet="customTemplate; context: { $implicit: rowData }" />
                    } @else {
                        {{ rowData[col.propName] }}
                    }

                </td>
            }
        </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
        <tr>
            <td [attr.colspan]="columns.length" class="text-center p-4 text-gray-500">
                Нет данных
            </td>
        </tr>
    </ng-template>

</p-table>

<div class="table-footer">
    <ng-content select="[slot=bottom]"></ng-content>
</div>
